<html>
    <head>
        <Title>Allsum</Title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <h1>Allsum!</h1>
        <form>
            <label for="text_input">Text input:</label>
            <input type="text" id="text_input" name="text_input">
            <select name="hash_type" id="hash_type">
                <option value="md5">md5</option>
                <option value="sha256">sha-256</option>
                <option value="sha512">sha-512</option>
                <option value="blake3">BLAKE-3</option>
            </select>
            <input type="button" value="Allsum!" onclick="getTextInput()">
        </form>
        <span id="hash_output">Hash Output:</span>
        <script>
            const invoke = window.__TAURI__.invoke
            
            function getTextInput(){
                const input_text = document.querySelector('#text_input').value
                const selected_algorithm = document.querySelector('#hash_type').value
                console.log("Text submitted (js): ", input_text, selected_algorithm)
                console.log(typeof(input_text))
                invoke('text_hash_processing', {inputStr: input_text, hashType: selected_algorithm})
                .then((output_hash) => document.getElementById('hash_output').innerHTML = output_hash)

            }
            
        </script>
    </body>
</html>